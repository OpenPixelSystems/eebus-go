################################################################################
### EEBUS Controlbox - Makefile                                              ###
### Date: 16/08/2024                                                         ###
### Version: v1.0.0                                                          ###
################################################################################

################################################################################
### SHEL                                                                     ###
################################################################################

SHELL := /bin/bash

################################################################################
### GO                                                                       ###
################################################################################
GO ?= go

################################################################################
### ENVIRONMENT                                                              ###
################################################################################
ENVIRONMENT_ARM64 = /opt/lmp-x86_64/environment-setup-cortexa53-lmp-linux

################################################################################
### Controlbox Demo                                                          ###
################################################################################

COMMIT_ID = $(shell git describe --dirty --broken)
ADD_VERSION = --ldflags="-X 'main._version_=$(COMMIT_ID)'"

################################################################################
### TESTS AND SYTESM TESTS                                                   ###
################################################################################

################################################################################
### ALL                                                                      ###
################################################################################

all: amd64 arm64

################################################################################
### INCLUDES                                                                 ###
################################################################################

include build/amd64.mk build/arm64.mk
